resources:
  - name: githab_repo
    type: GitRepo
    configuration:
      gitProvider: skoriy88_github
      path: skoriy88/simple-springboot-app
      buildOn:
        commit: true
      branches:
        include: master

  - name: docker_repo
    type: GitRepo
    configuration:
      gitProvider: skoriy88_github
      path: skoriy88/jfrog_pipelines
      branches:
        include: master
  
  - name: docker_image
    type: Image
    configuration:
      registry: art                                # <-- replace with your artifactory integration
      sourceRepository: mydockerrepo               # <-- required if registry is Artifactory
      imageName: skoriy88.jfrog.io/mydockerrepo/skoriy88/test_docker # < -- replace with your image path and name
      imageTag: latest
      autoPull: true

  - name: docker_build_info
    type: BuildInfo
    configuration:
      sourceArtifactory: art

  - name: mvn_build_info
    type: BuildInfo
    configuration:
      sourceArtifactory: art

  - name: myFirstRepo
    type: GitRepo
    configuration:
      # SCM integration where the repository is located
      gitProvider: skoriy88_github # this will be replaced from values.yml
      # Repository path, including org name/repo name
      path: skoriy88/simple-springboot-app # this will be replaced from values.yml
      branches:
        # Specifies which branches will trigger dependent steps
        include: master

  - name: myPropertyBag
    type: PropertyBag
    configuration:
      commitSha: 1
      runID: 1